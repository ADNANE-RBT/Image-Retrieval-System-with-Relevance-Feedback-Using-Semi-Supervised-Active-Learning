<div class="container mx-auto p-8 bg-gradient-to-b from-gray-100 to-gray-200 rounded-xl shadow-lg">
  <h2 class="text-3xl font-bold text-center text-gray-800 mb-8">Image Search</h2>

  <div class="flex justify-center mb-8">
    <input 
      type="file" 
      (change)="onFileSelected($event)" 
      accept=".png,.jpg,.jpeg,.bmp,.gif" 
      class="block w-full max-w-lg px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500 text-gray-700 placeholder-gray-400"
      placeholder="Choose an image file"
    >
  </div>

  <div class="flex justify-center gap-6 mb-10">
    <button 
      (click)="performSimpleSearch()" 
      class="px-8 py-3 bg-indigo-500 text-white text-lg font-medium rounded-lg shadow-md hover:bg-indigo-600 focus:ring-2 focus:ring-indigo-300"
    >
      Simple Search
    </button>
    <button 
      (click)="performSemiSupervisedSearch()" 
      class="px-8 py-3 bg-teal-500 text-white text-lg font-medium rounded-lg shadow-md hover:bg-teal-600 focus:ring-2 focus:ring-teal-300"
    >
      Semi-Supervised Search
    </button>
  </div>

  <div *ngIf="searchMode" class="search-results">
    <h3 class="text-2xl font-semibold text-gray-700 mb-6 text-center">Search Results</h3>

    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8">
      <div 
        *ngFor="let image of similarImages" 
        class="image-item relative group p-3 border rounded-lg shadow-md bg-white hover:shadow-xl transition-transform transform hover:scale-105 duration-300"
        [class.relevant]="isRelevant(image)"
        [class.non-relevant]="isNonRelevant(image)"
        (click)="toggleRelevance(image)"
      >
        <img 
          [src]="'http://localhost:5000/image/' + image"
          [alt]="image" 
          class="w-full h-56 rounded-md object-cover mb-2"
        >
        <div class="absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
          <p class="text-white text-sm font-medium">Click to toggle relevance</p>
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="searchMode === 'semi-supervised'" class="feedback-section mt-10 flex justify-center">
    <button 
      *ngIf="relevantImages.length > 0 || nonRelevantImages.length > 0"
      (click)="refineSearch()" 
      class="px-8 py-3 bg-purple-600 text-white text-lg font-medium rounded-lg shadow-md hover:bg-purple-700 focus:ring-2 focus:ring-purple-400"
    >
      Refine Search
    </button>
  </div>
</div>
